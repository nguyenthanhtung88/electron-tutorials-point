<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Audio and Video</title>
    </head>
    <body>
        <video autoplay></video>

        <script>
            function errorCallback(e) {
                console.log('Error', e)
            }

            navigator.getUserMedia({video: true, audio: true}, (localMediaStream) => {
                let video = document.querySelector('video')
                video.src = window.URL.createObjectURL(localMediaStream)
                video.onloadedmetadata = (e) => {
                    // Ready to go. Do some stuff
                }
            }, errorCallback)
        </script>
    </body>
</html>
